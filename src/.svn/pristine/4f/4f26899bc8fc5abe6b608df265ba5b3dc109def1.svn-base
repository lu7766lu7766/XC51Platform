/**
 * 支付界面
 */
class PaymentWnd extends egret.DisplayObjectContainer{
    private static _mInstance: PaymentWnd;
	public static get getInstance(): PaymentWnd {
		if (PaymentWnd._mInstance == undefined)
			PaymentWnd._mInstance = new PaymentWnd();
		return PaymentWnd._mInstance;
	}

    private _topUI:TopUI;
    private _return:egret.Shape;

	/**全部信息 滚动 */
	private _mContainQB:egret.DisplayObjectContainer;
    private _scroViewQB:egret.ScrollView;

	/**列表 */
	private _mList:GHashMap<HistoryAwardsData>;
	private _mListObj:GHashMap<HistoryAwardsObj>;

    constructor(){
        super();
        this.y = 40;
        this._topUI = new TopUI("",-this.y);
		this._topUI.changeTitle("支付界面");
        this.addChild(this._topUI);
        this._return = this._topUI.getReturn();
        this._return.addEventListener(egret.TouchEvent.TOUCH_TAP,()=>{
            this.hide();
        },this);

		this._mContainQB = new egret.DisplayObjectContainer();
		this._scroViewQB = new egret.ScrollView();
		this.addChild(this._scroViewQB)
        this.addScoll(this._mContainQB,this._scroViewQB);

		this.setDB()
		this.touchEnabled = true;

		this._mList = new GHashMap<HistoryAwardsData>();
		this._mListObj = new GHashMap<HistoryAwardsObj>();
    }

	private addScoll(contain:egret.DisplayObjectContainer,scroView:egret.ScrollView): void {
		scroView.x = 0;
		scroView.y = 136 - this.y;
		scroView.scrollSpeed = 0.4;
		//设置滚动内容
		scroView.setContent(contain);
		scroView.bounces = false;
		scroView.verticalScrollPolicy = 'on';
		scroView.horizontalScrollPolicy = 'off';
		//设置滚动区域宽高
		scroView.width = GameMain.getInstance.StageWidth;
		scroView.height = GameMain.getInstance.StageHeight - 134;
	}

	private _mShareC: egret.Shape;
	/**适配处理 */
	private setDB(): void {
		this._mShareC = new egret.Shape();
		this._mShareC.graphics.beginFill(0xffffff, 1);
		this._mShareC.graphics.drawRect(0, 0, GameMain.getInstance.StageWidth,GameMain.getInstance.StageHeight);
		this._mShareC.graphics.endFill();
		this.addChildAt(this._mShareC, 0);
    }

    private touchDown(e:egret.TouchEvent):void{
    }
	private _mType:PaymentData;
    public show(data:PaymentData):void{
		this._mType = data;
        GUIManager.getInstance.tipLay.addChild(this);
		let dataTTT:HistoryAwardsData= new HistoryAwardsData();

    }

    public hide():void{
        if(this.parent!=undefined){
            this.parent.removeChild(this);
        }

		let obj:HistoryAwardsObj;
		for(let key of this._mListObj.keys) {
			obj = this._mListObj.Gget(key);
			GObjPool.getInstance.Gadd2Pool(obj);
			obj.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.touchDown,this);
			if(obj.parent != undefined) {
				obj.parent.removeChild(obj);
			}
		}

		this._mListObj.clear();
    }
}

/**支付数据类 */
class PaymentData {
	/**足球支付类型 */
	public static zqType:number = 1;
	/**篮球支付类型 */
	public static lqType:number = 2;
	/**组3支付类型 */
	public static z3Type:number = 3;
	/**组5支付类型 */
	public static z5Type:number = 4;

	/**类型 */
	public type:number;
	/**标题 */
	public title:string;
	/**投注 */
	public tz:number;
	/**倍数 */
	public bs:number;
	/**下注金额 */
	public xzM:number;
	/**期数 */
	public qs:number;
}