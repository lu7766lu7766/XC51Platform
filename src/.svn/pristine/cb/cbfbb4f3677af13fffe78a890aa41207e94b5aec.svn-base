class MyLotteryObj extends egret.DisplayObjectContainer implements GIObjPool{
	public static getObj(): MyLotteryObj {
		let obj = GObjPool.getInstance.GgetObj(MyLotteryObj);
		if (obj == null)
			obj = new MyLotteryObj();
		return obj;
	}
	/**背景 */
	private _mBg:egret.Shape;
	/**icon图标 */
	private _mIconBit:egret.Bitmap;
	/**标题 */
	private _mTitle:egret.TextField;
	/**下注金额 */
	private _mXZMoney:egret.TextField;
	/**中奖情况 */
	private _mZJ:egret.TextField;
	/**时间 */
	private _mTime:egret.TextField;

	/**数据对象 */
	private _mData:MyLotteryData;
	private constructor() {
		super();
		this.touchEnabled = true;
	}

	public init(data:MyLotteryData):void {
		this._mData = data;
		if(this._mBg == undefined) {
			this._mBg = new egret.Shape();
			this.addChild(this._mBg);
			this._mBg.graphics.beginFill(0xffffff);
			this._mBg.graphics.drawRect(0,0,GameMain.getInstance.StageWidth,108);

			let link = new egret.Shape();
			this.addChild(link);
			link.graphics.beginFill(0xdedede);
			link.graphics.drawRect(0,108,750,1.5);
		}

		if(this._mIconBit == undefined)
			this._mIconBit = new egret.Bitmap();
		RES.getResByUrl("resource/assets/images/ui/jzcg_home@2x.png", this.bgBack2, this, RES.ResourceItem.TYPE_IMAGE);

		if(this._mTitle == undefined)
			this._mTitle = ToolMrg.getText(62,8,26,0x333333,150);
		this._mTitle.height = 50;
		this._mTitle.verticalAlign = egret.VerticalAlign.MIDDLE;
		this._mTitle.text = "标题" + data.id;
		this.addChild(this._mTitle);

		if(this._mXZMoney == undefined) 
			this._mXZMoney = ToolMrg.getText(62,58,24,0x333333,150);
		this._mXZMoney.height = 34;
		this._mXZMoney.verticalAlign = egret.VerticalAlign.MIDDLE;
		this._mXZMoney.text = "30元";
		this.addChild(this._mXZMoney);

		if(this._mZJ == undefined) 
			this._mZJ = ToolMrg.getText(0,60,24,0xFF7000,GameMain.getInstance.StageWidth);
		this._mZJ.height = 34;
		this._mZJ.textAlign = egret.HorizontalAlign.CENTER;
		this._mZJ.verticalAlign = egret.VerticalAlign.MIDDLE;
		this._mZJ.text = "待开奖";
		this.addChild(this._mZJ);

		if(this._mTime == undefined) 
			this._mTime = ToolMrg.getText(576,66,20,0x999999,150);
		this._mTime.height = 28;
		this._mTime.verticalAlign = egret.VerticalAlign.MIDDLE;
		this._mTime.text = "19-02-06 15:24";
		this.addChild(this._mTime);
	}

	private bgBack2(data:any,url:string):void {
		if(data != undefined && this._mIconBit != undefined) {
			this._mIconBit.$setBitmapData(data);
			this._mIconBit.width = 28;
			this._mIconBit.height = 28;
			this._mIconBit.x = 28;
			this._mIconBit.y = 20;
			this.addChild(this._mIconBit);
		}
	}

	public clean(): void {
		egret.Tween.removeTweens(this);
		this._mIconBit.$setBitmapData(undefined);
		this._mTitle.text = "";
		this._mXZMoney.text = "";
		this._mZJ.text = "";
		this._mTime.text = "";
	}
}