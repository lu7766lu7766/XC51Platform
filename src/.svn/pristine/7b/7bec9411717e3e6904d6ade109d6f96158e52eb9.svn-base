/**方案详情 */
class DD_Detail extends egret.DisplayObjectContainer{
    private _item:GHashMap<DetailInfo>;
    private _shape:egret.Shape;
    private _text:egret.TextField;

    constructor(){
        super();
        this.hide();

        this._item = new GHashMap<DetailInfo>();

        let text1 = ToolMrg.getText(160,12,24,0x999999);
        this.addChild(text1);
        text1.height = 40;
        text1.verticalAlign = egret.VerticalAlign.MIDDLE;
        text1.text = "场次";

        let text2 = ToolMrg.getText(448,12,24,0x999999);
        this.addChild(text2);
        text2.height = 40;
        text2.verticalAlign = egret.VerticalAlign.MIDDLE;
        text2.text = "投注项";

        let text3 = ToolMrg.getText(656,12,24,0x999999);
        this.addChild(text3);
        text3.height = 40;
        text3.verticalAlign = egret.VerticalAlign.MIDDLE;
        text3.text = "赛果";

        let link = new egret.Shape();
        this.addChild(link);
        link.graphics.beginFill(0xdedede);
        link.graphics.drawRect(0,62.5,750,1.5);

        this._shape = new egret.Shape();
        this.addChild(this._shape);
        this._shape.graphics.beginFill(0xffffff);
        this._shape.graphics.drawRect(0,0,750,90);

        this._text = ToolMrg.getText(284+142,24,20,0x999999,300);
        this.addChild(this._text);
        this._text.height = 28;
        this._text.verticalAlign = egret.VerticalAlign.MIDDLE;
        this._text.textAlign = egret.HorizontalAlign.RIGHT;

        this.updata();

        this.setDB();
    }

    public updata():void{

        let objHeight = 64;
        for(let key=0;key<6;key++){
            let obj:DetailInfo;
            if(this._item.GhasKey(key)){
                obj = this._item.Gget(key);
            }else{
                obj = new DetailInfo();
                this._item.Gput(key,obj);
            }
            obj.aa();
            obj.y = objHeight;
            objHeight = objHeight + obj.height;
            if(obj.parent==undefined)
                this.addChild(obj);
        }

        this._shape.graphics.clear();
        this._shape.graphics.beginFill(0xffffff);
        this._shape.graphics.drawRect(0,objHeight,750,90);

        this._text.y = objHeight + 24;
        this._text.text = `过关方式：3串1`;
    }

    public show():void{
        this.visible = true;
    }

    public hide():void{
        this.visible = false;
    }

    private _mShareC:egret.Shape;
    private setDB(): void {
		this._mShareC = new egret.Shape();
		this._mShareC.graphics.beginFill(0xffffff, 1);
		this._mShareC.graphics.drawRect(0, 0, GameMain.getInstance.StageWidth, 300);
		this.addChildAt(this._mShareC, 0);
    }
}

class DetailInfo extends egret.DisplayObjectContainer{
    private _time:egret.TextField;
    private _type:egret.TextField;
    private _team1:egret.TextField;
    private _team2:egret.TextField;
    private _content1:egret.TextField;
    private _content2:egret.TextField;

    constructor(){
        super();

        this._time = ToolMrg.getText(28,12,20,0x333333);
        this.addChild(this._time);
        this._time.height = 40;
        this._time.verticalAlign = egret.VerticalAlign.MIDDLE;

        this._type = ToolMrg.getText(28,48,20,0x333333);
        this.addChild(this._type);
        this._type.height = 40;
        this._type.verticalAlign = egret.VerticalAlign.MIDDLE;

        this._team1 = ToolMrg.getText(170,16,22,0x333333);
        this.addChild(this._team1);
        this._team1.height = 32;
        this._team1.verticalAlign = egret.VerticalAlign.MIDDLE;

        this._team2 = ToolMrg.getText(170,52,22,0x333333);
        this.addChild(this._team2);
        this._team2.height = 32;
        this._team2.verticalAlign = egret.VerticalAlign.MIDDLE;

        this._content1 = ToolMrg.getText(360,0,22,0x333333,250);
        this.addChild(this._content1);
        this._content1.height = 100;
        this._content1.verticalAlign = egret.VerticalAlign.MIDDLE;
        this._content1.textAlign = egret.HorizontalAlign.CENTER;

        this._content2 = ToolMrg.getText(610,0,22,0x333333,140);
        this.addChild(this._content2);
        this._content2.height = 100;
        this._content2.verticalAlign = egret.VerticalAlign.MIDDLE;
        this._content2.textAlign = egret.HorizontalAlign.CENTER;

        let zShape = new egret.Shape();
        this.addChild(zShape);
        zShape.graphics.beginFill(0xcacaca);
        zShape.graphics.drawEllipse(142,20,24,24);

        let kShape = new egret.Shape();
        this.addChild(kShape);
        kShape.graphics.beginFill(0xcacaca);
        kShape.graphics.drawEllipse(142,56,24,24);

        let zText = ToolMrg.getText(142,20,16,0xffffff,24);
        this.addChild(zText);
        zText.height = 24;
        zText.textAlign = egret.HorizontalAlign.CENTER;
        zText.verticalAlign = egret.VerticalAlign.MIDDLE;
        zText.text = "主";

        let kText = ToolMrg.getText(142,56,16,0xffffff,24);
        this.addChild(kText);
        kText.height = 24;
        kText.textAlign = egret.HorizontalAlign.CENTER;
        kText.verticalAlign = egret.VerticalAlign.MIDDLE;
        kText.text = "客";

        let shape1 = new egret.Shape();
        this.addChild(shape1);
        shape1.graphics.beginFill(0xdedede);
        shape1.graphics.drawRect(0,99,750,1.5);

        let shape2 = new egret.Shape();
        this.addChild(shape2);
        shape2.graphics.beginFill(0xdedede);
        shape2.graphics.drawRect(360,0,1.5,101);
        
        let shape3 = new egret.Shape();
        this.addChild(shape3);
        shape3.graphics.beginFill(0xdedede);
        shape3.graphics.drawRect(610,0,1.5,101);
        this.setDB();
    }

    public aa():void{
        this._time.text = "周一006";
        this._type.text = "女世界杯";
        this._team1.text = "南非女";
        this._team2.text = "西班牙女";

        this._content1.text = "开赛后公开";
        this._content2.text = "暂无";
    }

    private _mShareC: egret.Shape;
	/**适配处理 */
	private setDB(): void {
		this._mShareC = new egret.Shape();
		this._mShareC.graphics.beginFill(0xF5F5F7, 1);
		this._mShareC.graphics.drawRect(0, 0, GameMain.getInstance.StageWidth, 101);
		this.addChildAt(this._mShareC, 0);
	}
}