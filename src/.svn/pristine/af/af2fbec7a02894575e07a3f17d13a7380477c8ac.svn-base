/**客服 */
class KeFuWnd extends egret.DisplayObjectContainer{
    private static _mInstance: KeFuWnd;
    public static get getInstance(): KeFuWnd {
        if (KeFuWnd._mInstance == undefined)
            KeFuWnd._mInstance = new KeFuWnd();
        return KeFuWnd._mInstance;
    }

    private _topUI:TopUI
    private _return:egret.Shape;

    constructor(){
        super();

        this.touchEnabled = true;
        this._topUI = new TopUI("联系客服");
        this.addChild(this._topUI);
        this._return = this._topUI.getReturn();

        let text = ToolMrg.getText(0,(GameMain.getInstance.StageHeight - 96+GameValue.adaptationScreen)*0.45,30,0x000000,GameMain.getInstance.StageWidth);
        this.addChild(text);
        text.verticalAlign = egret.VerticalAlign.MIDDLE;
        text.textAlign = egret.HorizontalAlign.CENTER;
        text.text = "客服 QQ：1002555653";

        this.setDB();
    }

    public show():void{
        GUIManager.getInstance.tipLay.addChild(this);
        this.addInterception();
    }

    public hide():void{
        if(this.parent!=undefined){
            this.parent.removeChild(this);
            this.removeInterception();
        }
    }

    private touchDown(e:egret.TouchEvent):void{
        if(e.target == this._return){
            this.hide();
        }
    }

    public addInterception(): void {
        this.addEventListener(egret.TouchEvent.TOUCH_TAP, this.touchDown, this);
    }

    public removeInterception(): void {
        this.removeEventListener(egret.TouchEvent.TOUCH_TAP, this.touchDown, this);
    }

    private _mShareC: egret.Shape;
    /**适配处理 */
    private setDB(): void {
        this._mShareC = new egret.Shape();
        this._mShareC.graphics.beginFill(0xffffff, 1);
        this._mShareC.graphics.drawRect(0, 0, GameMain.getInstance.StageWidth, GameMain.getInstance.StageHeight);
        this._mShareC.graphics.endFill();
        this.addChildAt(this._mShareC, 0);
    }
}